<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>The First Comet</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
  <style>
    /* (semua CSS kamu tetap sama, tidak diubah) */
  </style>
</head>
<body>
  <div class="overlay" id="overlay">
    <div class="overlay-text">The First Comet</div>
    <div class="overlay-subtitle">Click to enter</div>
    <button class="play-button" id="playButton">âœ¨ Mulai Perjalanan</button>
  </div>

  <div class="music-control" id="musicControl">
    <div class="music-icon">
      <div class="music-bars" id="musicBars">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </div>
    </div>
    <span class="music-text" id="musicText">Playing</span>
  </div>

  <!-- ðŸŽµ MUSIK DENGAN ATRIBUT MOBILE-FRIENDLY -->
  <audio id="bgMusic" loop preload="auto" playsinline>
    <source src="TheOvertunes-Bukan-Sekedar-Kata.mp3" type="audio/mpeg">
  </audio>

  <div class="stars" id="stars"></div>

  <div class="container">
    <div class="hero">
      <div class="photo-frame">
        <div class="mini-star star-1"></div>
        <div class="mini-star star-2"></div>
        <div class="mini-star star-3"></div>
        <div class="mini-star star-4"></div>

        <div class="photo-container">
          <div class="corner-decoration top-left"></div>
          <div class="corner-decoration top-right"></div>
          <div class="corner-decoration bottom-left"></div>
          <div class="corner-decoration bottom-right"></div>

          <div class="photo-inner">
            <img src="foto-eren.jpg" alt="Eren" class="photo-placeholder">
          </div>
        </div>
      </div>

      <h1>The First Comet</h1>
      <p class="subtitle">A light that never fades</p>
    </div>

    <div class="narrative">
      <p>Kenapa gitu ya dari segala kesibukan aku ada hal yang semangat buat aku pulang.</p>
      <p>Eren datang kaya komet yang jatuh ke bumi. Tak terduga, tapi membawa cahaya yang tak pernah padam.</p>
      <p>Suara eren, tawa kecil eren, cara eren bilang 'semangat ya' â€” semuanya kaya bintang yang menuntun aku pulang.</p>
      <p>makasih ya udah jadi rumah.</p>
      <p class="signature">â€” Ferdi.</p>
    </div>

    <div class="button-container">
      <button class="reveal-button" onclick="revealMessage()">ðŸ’« Untuk Eren</button>
      <div class="message" id="message">I was black and white before met you, and you my colour.</div>
    </div>
  </div>

  <script>
    const bgMusic = document.getElementById('bgMusic');
    const playButton = document.getElementById('playButton');
    const overlay = document.getElementById('overlay');
    const musicControl = document.getElementById('musicControl');
    const musicBars = document.getElementById('musicBars');
    const musicText = document.getElementById('musicText');
    let isPlaying = false;

    // âœ… FIX AUTOPLAY MOBILE
    playButton.addEventListener('click', function() {
      // pastikan audio siap diputar
      bgMusic.load();
      bgMusic.play().then(() => {
        overlay.classList.add('hidden');
        isPlaying = true;
        musicBars.classList.remove('paused');
        musicText.textContent = 'Playing';
      }).catch(err => {
        console.log('Autoplay prevented:', err);
        // kalau autoplay gagal, tampilkan overlay pesan singkat
        alert('Tekan sekali lagi untuk mulai musik ðŸŽµ');
      });
    });

    // toggle play/pause
    musicControl.addEventListener('click', function() {
      if (isPlaying) {
        bgMusic.pause();
        musicBars.classList.add('paused');
        musicText.textContent = 'Paused';
        isPlaying = false;
      } else {
        bgMusic.play().then(() => {
          musicBars.classList.remove('paused');
          musicText.textContent = 'Playing';
          isPlaying = true;
        }).catch(err => console.log('Play error:', err));
      }
    });

    // generate stars
    const starsContainer = document.getElementById('stars');
    for (let i = 0; i < 150; i++) {
      const star = document.createElement('div');
      star.className = 'star';
      const size = Math.random() * 3 + 1 + 'px';
      star.style.width = size;
      star.style.height = size;
      star.style.left = Math.random() * 100 + '%';
      star.style.top = Math.random() * 100 + '%';
      star.style.animationDelay = Math.random() * 3 + 's';
      starsContainer.appendChild(star);
    }

    // generate comets
    function createComet() {
      const comet = document.createElement('div');
      comet.className = 'comet';
      comet.style.left = Math.random() * 50 + '%';
      comet.style.top = Math.random() * 30 + '%';
      comet.style.animation = `cometFall ${Math.random() * 3 + 4}s linear`;
      document.body.appendChild(comet);
      setTimeout(() => comet.remove(), 7000);
    }
    setInterval(createComet, 8000);
    setTimeout(createComet, 2000);

    // reveal message
    function revealMessage() {
      const message = document.getElementById('message');
      message.classList.add('show');
    }
  </script>
</body>
</html>
